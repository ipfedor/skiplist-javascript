{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a5132be0e786dbb05970","webpack:///./main.js","webpack:///./src/SkipList.js","webpack:///./~/babel-runtime/helpers/classCallCheck.js","webpack:///./~/babel-runtime/helpers/createClass.js","webpack:///./~/babel-runtime/core-js/object/define-property.js","webpack:///./~/core-js/library/fn/object/define-property.js","webpack:///./~/core-js/library/modules/$.js","webpack:///./src/SkipListNode.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"skiplist\"] = factory();\n\telse\n\t\troot[\"skiplist\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a5132be0e786dbb05970\n **/","export SkipList from './src/SkipList';\nexport SkipListNode from './src/SkipListNode';\n\n\n\n/** WEBPACK FOOTER **\n ** ./main.js\n **/","import SkipListNode from './SkipListNode';\n\nexport default class SkipList {\n\n    constructor(headKey=0, tailKey=Infinity, p=0.5, maxLevel=16) {\n        this.levels = 1;\n        this.p = p;\n        this.maxLevel = maxLevel;\n        this.head = new SkipListNode(headKey, null, this.maxLevel);\n        this.tail = new SkipListNode(tailKey, null, 0);\n        Object.defineProperty(this.tail, 'next', {\n            configurable: false,\n            enumerable: false,\n            get: function get() {\n                throw new RangeError('Exceeded maximum range of skip list');\n            }\n        });\n        for (let level = 0; level < this.levels; level++) {\n            this.head.next[level] = this.tail;\n        }\n    }\n\n    get(key) {\n        let node = this.head;\n        for (let level = this.levels - 1; level > -1; level--) {\n            while (node.next[level].key < key) {\n                node = node.next[level];\n            }\n            if (node.next[level].key === key) {\n                return node.next[level];\n            }\n        }\n    }\n\n    has(key) {\n        return this.get(key) !== void 0;\n    }\n\n    set(key, value) {\n        if (typeof key !== 'number') {\n            throw new TypeError('Must provide numeric key for SkipListNode');\n        }\n        let node = this.head;\n        let update = new Array(this.levels);\n        for (let level = this.levels - 1; level > -1; level--) {\n            while (node.next[level].key < key) {\n                node = node.next[level];\n            }\n            update[level] = node;\n        }\n        node = node.next[0];\n        let entry;\n        if (node.key === key) {\n            node.value = value;\n            entry = node;\n        } else {\n            let level = randomLevel(this.p, this.levels);\n            if (level === this.levels) {\n                if (this.levels < this.maxLevel) {\n                    this.levels++;\n                    this.head.next[level] = this.tail;\n                }\n                update.push(this.head);\n            }\n            entry = new SkipListNode(key, value, level);\n            for (let i = 0; i <= level; i++) {\n                entry.next[i] = update[i].next[i];\n                update[i].next[i] = entry;\n            }\n        }\n        return entry;\n    }\n\n    unset(key) {\n        let node = this.head;\n        let update = new Array(this.levels);\n        for (let level = this.levels - 1; level > -1; level--) {\n            while (node.next[level].key < key) {\n                node = node.next[level];\n            }\n            update[level] = node;\n        }\n        node = node.next[0];\n        if (node === this.tail) {\n            return;\n        }\n        for (let level = 0; level < this.levels; level++) {\n            if (update[level].next[level] !== node) {\n                break;\n            } else {\n                update[level].next[level] = node.next[level];\n            }\n        }\n        while (this.levels > 1 && this.head.next[this.levels - 1] === this.tail) {\n            this.levels--;\n        }\n    }\n\n    before(key) {\n        let node = this.head;\n        for (let level = this.levels - 1; level > -1; level--) {\n            while (node.next[level].key < key) {\n                node = node.next[level];\n            }\n        }\n        return node;\n    }\n\n    forEach(fn) {\n        forEach(this, fn);\n    }\n\n    map(fn) {\n        let res = [];\n        forEach(this, node => res.push(fn(node)));\n        return res;\n    }\n\n    reduce(fn, memo) {\n        forEach(this, node => memo = fn(node));\n        return memo;\n    }\n}\n\nfunction randomLevel(p, maxLevel) {\n    let level = 0;\n    while (Math.random() < p && level < maxLevel) {\n        level++;\n    }\n    return level;\n}\n\nfunction forEach(list, fn) {\n    let node = list.head.next[0];\n    while (node != list.tail) {\n        fn(node);\n        node = node.next[0];\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/SkipList.js\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/classCallCheck.js\n ** module id = 2\n ** module chunks = 0 1\n **/","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = (function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/createClass.js\n ** module id = 3\n ** module chunks = 0 1\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/define-property.js\n ** module id = 4\n ** module chunks = 0 1\n **/","var $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc){\n  return $.setDesc(it, key, desc);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/fn/object/define-property.js\n ** module id = 5\n ** module chunks = 0 1\n **/","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/core-js/library/modules/$.js\n ** module id = 6\n ** module chunks = 0 1\n **/","export default class SkipListNode {\n    constructor(key, value, level) {\n        this.key = key;\n        this.value = value;\n        this.next = new Array(level);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/SkipListNode.js\n **/"],"sourceRoot":""}